FROM alpine:3.19.1

# Basic tools
RUN apk add --no-cache bash coreutils curl wget sed jq unzip python3 uuidgen

# Nuclei
ARG NUCLEI_VERSION="3.1.10"
RUN wget https://github.com/projectdiscovery/nuclei/releases/download/v${NUCLEI_VERSION}/nuclei_${NUCLEI_VERSION}_linux_amd64.zip -O nuclei.zip \
	&& unzip nuclei.zip -d nuclei \
	&& mv nuclei/nuclei /usr/bin/nuclei \
	&& chmod +x /usr/bin/nuclei \
	&& rm -rfv nuclei*

ENV UTILS=/src/_utils
COPY _utils $UTILS

ENV RESOLVERS_FILE=/home/resolvers.txt
ENV DOMAIN_SCAN_COOLDOWN="4 hours"

COPY exploit/lfi/* /src/
CMD /src/entrypoint.sh
