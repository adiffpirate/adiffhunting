FROM alpine:3.19.1

# Basic tools
RUN apk add --no-cache bash coreutils curl wget jq unzip python3

# Nuclei
ARG NUCLEI_VERSION="2.9.15"
RUN wget https://github.com/projectdiscovery/nuclei/releases/download/v${NUCLEI_VERSION}/nuclei_${NUCLEI_VERSION}_linux_amd64.zip -O nuclei.zip \
	&& unzip nuclei.zip -d nuclei \
	&& mv nuclei/nuclei /usr/bin/nuclei \
	&& chmod +x /usr/bin/nuclei \
	&& rm -rfv nuclei*

# WhoIs
RUN apk add --no-cache whois

ENV UTILS=/src/_utils
COPY _utils $UTILS

ENV DOMAIN_SCAN_COOLDOWN="4 hours"

COPY exploit/subtko/* /src/
CMD /src/entrypoint.sh
